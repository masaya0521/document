# Go 1.26 — Green Tea GC・SIMD・go fix 刷新

- **日付**: 2026-02-27（リリース: 2026-02-11）
- **カテゴリ**: Language
- **ソース**: [公式ブログ](https://go.dev/blog/go1.26), [リリースノート](https://go.dev/doc/go1.26)

## 概要

Go 1.26 は 2026 年 2 月にリリースされた Go の最新メジャーバージョン。実験的だった Green Tea ガベージコレクタがデフォルト有効化され、GC オーバーヘッドが 10〜40% 削減された。言語レベルでは `new` 関数の拡張とジェネリック型の自己参照が追加され、ツールチェインでは `go fix` が大幅に刷新されてコードベースのモダナイゼーションを自動化できるようになった。

## 主な変更点

### 言語の変更

**`new` 関数の拡張**

組み込みの `new` 関数が初期値を式で指定できるようになった。これにより JSON やプロトコルバッファのオプション値の初期化がより簡潔に記述可能になる。

```go
// Before: ポインタを作るために一時変数が必要だった
v := int64(300)
ptr := &v

// After: 直接初期値を指定
ptr := new(int64(300))
```

**ジェネリック型の自己参照**

ジェネリック型が自身の型パラメータリスト内で自己参照できるようになった。複雑なデータ構造やインターフェースの実装が簡素化される。

### ランタイム・パフォーマンス

- **Green Tea GC**: デフォルト有効化。GC オーバーヘッドを 10〜40% 削減
- **cgo オーバーヘッド**: ベースラインのオーバーヘッドが約 30% 削減
- **スタック割り当て最適化**: コンパイラがスライスのバッキングストアをスタックに配置できる場面が拡大
- **小規模アロケーション**: サイズ特化のアロケーション高速パスがランタイムに追加
- **JPEG**: エンコーダ/デコーダが高速実装に置き換え
- **`io.ReadAll`**: メモリ効率が改善され約 2 倍高速化
- **ヒープベースアドレスランダム化**: 64 ビットプラットフォームでセキュリティ強化

### ツールチェイン

**`go fix` の刷新**

`go fix` コマンドが Go のモダナイザーの拠点として生まれ変わった。数十のフィクサーが用意され、Go 言語とコアライブラリの最新イディオムへのアップデートをワンボタンで実行可能。

**`go mod init` の変更**

新規モジュール作成時に、現在サポートされている Go バージョンとの互換性を優先するようになった。

### 新パッケージ・実験的機能

| パッケージ | 概要 |
|---|---|
| `crypto/hpke` | RFC 9180 準拠の HPKE（ポスト量子ハイブリッド KEM 対応） |
| `simd/archsimd`（実験的） | アーキテクチャ固有の SIMD 操作（amd64、128/256/512 ビットベクター） |
| `runtime/secret`（実験的） | 暗号関連コード向けのセキュアなメモリ消去機能 |
| ゴルーチンリークプロファイル（実験的） | ゴルーチンのリーク検出支援 |

### musl 1.2.5 更新

`*-linux-musl` ターゲットが musl 1.2.5 を同梱するようになった。静的リンクされた Linux バイナリの DNS リゾルバの信頼性が向上する。

## 破壊的変更・移行ガイド

- **macOS 12 Monterey**: サポート終了予告（次バージョンで削除予定）
- **Windows 32 ビット ARM**: ポート削除
- **PowerPC ELFv1 ABI**: 次バージョンで廃止予定

移行に際しては `go fix` を活用することで、多くの非推奨パターンを自動的にモダンな記法に変換できる。

## 今後の注目点

- Green Tea GC の更なるチューニングと低レイテンシ向け最適化
- `simd/archsimd` の安定化と ARM アーキテクチャへの対応拡大
- `runtime/secret` の安定化
- Go 1.27 でのポスト量子暗号サポートの拡充
