# Go 1.26 — 新機能と主な変更点

- **日付**: 2026-02-10
- **カテゴリ**: Language
- **ソース**: [Go 1.26 Release Notes](https://go.dev/doc/go1.26), [公式ブログ](https://go.dev/blog/go1.26)

## 概要

Go 1.26 は 2026 年 2 月 10 日にリリースされた Go 言語の最新メジャーリリース。Green Tea ガベージコレクタのデフォルト有効化による大幅な GC パフォーマンス改善、`new` 関数の拡張やジェネリック型の自己参照といった言語仕様の変更、`go fix` コマンドの刷新など、多岐にわたる改善が含まれる。

## 主な変更点

### 言語仕様の変更

- **`new` 関数の初期値サポート**: `new` 関数が式を引数として受け取れるようになり、初期値を指定可能に。従来の `ptr := &x` のようなパターンが `ptr := new(int64(300))` と簡潔に記述できる
- **ジェネリック型の自己参照**: ジェネリック型が自身の型パラメータリスト内で自身を参照できるようになり、複雑なデータ構造やインターフェースの実装が簡潔に

### パフォーマンス改善

- **Green Tea GC のデフォルト有効化**: 以前は実験的だった Green Tea ガベージコレクタがデフォルトで有効に。GC ワークロードが重いプログラムでは **10〜40% の GC オーバーヘッド削減** が期待できる
- **cgo オーバーヘッド約 30% 削減**: cgo のベースラインオーバーヘッドが大幅に改善
- **スタック割り当ての最適化**: コンパイラがスライスのバッキングストアをスタックに割り当てる機会が増加し、ヒープアロケーションが減少

### ツールの改善

- **`go fix` の刷新**: Go analysis framework を使用するよう完全に書き直され、数十個の "modernizers" アナライザを搭載。より新しい言語機能やコアライブラリ API の活用を安全に提案
- `go fix` は既存コードベースを最新のイディオムに更新するための信頼性の高い方法を提供

### 新パッケージ

- **`crypto/hpke`**: RFC 9180 に準拠した Hybrid Public Key Encryption（HPKE）を実装。ポスト量子ハイブリッド KEM もサポート
- **実験的 `simd/archsimd`**: アーキテクチャ固有の SIMD 操作へのアクセスを提供

### 実験的機能

- ゴルーチンリーク検出プロファイル
- 秘密情報の安全な削除機能

## 今後の注目点

- Green Tea GC の実運用環境でのパフォーマンス実績とチューニングオプション
- SIMD パッケージの安定化に向けた進展
- `go fix` modernizers の追加拡充
- Go 1.27 での言語仕様変更の方向性（特にジェネリクスの更なる改善）
